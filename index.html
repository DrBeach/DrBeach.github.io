<!DOCTYPE html>
<html>
<head>
        <link rel="stylesheet" type="text/css" href="interface.css" />
        <title>Idle game</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.5.0/chart.umd.min.js"></script>
</head>
<body onload="load();">
        <p>Welcome!!!! <span id="version">0.1.2</span></p>
        <br />
        <div style="display: flex;">
            <div style="flex: 1;">
                <h2>Power Stats:</h2>
                <p>Time: <span id="time">00:00</span></p>
                <p>Current power generation is: <span id="current_gen">0</span></p>
                <p>Current sale price is: $<span id="current_power_price">0</span> per kW/h</p>
                <p>Credits per hour: $<span id="current_per_hour">0</span></p>
                <p>Current credits: $<span id="current_credits">0</span></p>
            </div>
            <div style="flex: 1;">
                <h2>Transmission:</h2>
                <p>Transformer Efficiency: <span id="transformer_eff">70</span>%</p>
                <p>Powerline Efficiency: <span id="powerline_eff">70</span>%</p>
                <p>Households: <span id="households">0</span></p>
                <p>Power Demand: <span id="power_demand">0</span> kW</p>
            </div>
        </div>
        <br>
        <h2>Avliable areas:</h2>
        <button type="button" onclick="show_area('factory_floor')">Factory floor</button>
        <button type="button" onclick="show_area('laboratory')">Laboratory</button>
        <button type="button" onclick="show_area('management')">Management</button>
        <button type="button" onclick="show_area('engineers')">Engineers</button>
        <button type="button" onclick="show_area('dashboard')">Dashboard</button>
        <button type="button" onclick="show_area('admin')">Admin</button>
        <hr>
        <div id="factory_floor" style="display: Block;">
                <br />
                <button type="button" onclick="buyWorker(1)">Hire worker</button>
                <p>Workers: <span id="workers">0</span></p>
                <p>Cost per hour: $<span id="work_cost">0</span></p>
                <br />
                <button type="button" onclick="buyPedalMachine()">Buy Pedal Machine (tm)</button>
                <p>Pedal Machines: <span id="p_mechs">0</span></p>
                <p>Efficiency: <span id="p_mech_eff">0</span> kW/h</p>
                <p class="formula">Formula: <span id="p_mech_formula"></span></p>
                <p>Total: <span id="p_mech_total">0</span> kw/h</p>
                <p>Cost: <span id="p_mach_cost">0</span></p>
                <br />
                <button type="button" onclick="buySolarPanel()">Buy Solar Panel</button>
                <p>Solar Panels: <span id="solar_panels">0</span></p>
                <p>Efficiency: <span id="solar_panel_eff">0</span> kW/h</p>
                <p class="formula">Formula: <span id="solar_panel_formula"></span></p>
                <p>Total: <span id="solar_panel_total">0</span> kw/h</p>
                <p>Cost: <span id="solar_panel_cost">0</span></p>
                <br />
                <button type="button" onclick="buyWindTurbine()">Buy Wind Turbine</button>
                <p>Wind Turbines: <span id="wind_turbines">0</span></p>
                <p>Efficiency: <span id="wind_turbine_eff">0</span> kW/h</p>
                <p class="formula">Formula: <span id="wind_turbine_formula"></span></p>
                <p>Total: <span id="wind_turbine_total">0</span> kw/h</p>
                <p>Cost: <span id="wind_turbine_cost">0</span></p>
                <br />
        </div>

        <div id = "laboratory" style="display: None;">
                <br />
                <button type="button" onclick="upgradePedalMachine()">Prototype Pedal Machine Upgrade</button>
                <p>Current kw/h: <span id="p_mech_eff2">0</span> -> <span id="p_mech_eff_next">0</span></p>
                <p>Upgrade cost: $<span id="p_mech_prototype_cost">0</span></p>
                <p>Upgrade chance: <span id="p_mech_upgrade_chance">0</span></p>
                <br />
                <button type="button" onclick="upgradeSolarPanel()">Upgrade Solar Panels</button>
                <p>Current kw/h: <span id="solar_panel_eff2">0</span> -> <span id="solar_panel_eff_next">0</span></p>
                <p>Upgrade cost: $<span id="solar_panel_upgrade_cost">0</span></p>
                <p>Upgrade chance: <span id="solar_panel_upgrade_chance">0</span></p>
                <br />
                <button type="button" onclick="upgradeWindTurbine()">Upgrade Wind Turbines</button>
                <p>Current kw/h: <span id="wind_turbine_eff2">0</span> -> <span id="wind_turbine_eff_next">0</span></p>
                <p>Upgrade cost: $<span id="wind_turbine_upgrade_cost">0</span></p>
                <p>Upgrade chance: <span id="wind_turbine_upgrade_chance">0</span></p>
        </div>

        <div id="management" style="display: None;">
            <br />
            <button type="button" onclick="buyManager(1)">Hire Manager</button>
            <p>Managers: <span id="managers">0</span></p>
            <p>Cost: $<span id="manager_cost">0</span></p>
            <br />
            <div id="manager_controls" style="display: none;">
                <h2>Manager Controls</h2>
                <label><input type="checkbox" id="manager_enabled" onchange="toggleManager()"> Manager Enabled</label>
                <p>Status: <span id="manager_status">Idle</span></p>
                <br>
                <label><input type="checkbox" id="autobuy_worker" onchange="toggleAutoBuy('worker')"> Auto-buy Workers</label>
                <label><input type="checkbox" id="autobuy_pedal_machine" onchange="toggleAutoBuy('pedal_machine')"> Auto-buy Pedal Machines</label>
                <label><input type="checkbox" id="autobuy_solar_panel" onchange="toggleAutoBuy('solar_panel')" disabled> Auto-buy Solar Panels</label>
                <label><input type="checkbox" id="autobuy_wind_turbine" onchange="toggleAutoBuy('wind_turbine')" disabled> Auto-buy Wind Turbines</label>
            </div>
            <div id="engineering_manager_controls" style="display: none;">
                <h2>Engineering Manager Controls</h2>
                <label><input type="checkbox" id="engineering_manager_enabled" onchange="toggleEngineeringManager()"> Engineering Manager Enabled</label>
                <p>Upgrade Threshold: <input type="number" id="upgrade_threshold" min="0" max="100" value="50" onchange="setUpgradeThreshold()">%</p>
                <br>
                <label><input type="checkbox" id="autobuy_pedal_machine_upgrade" onchange="toggleAutoUpgrade('pedal_machine')"> Auto-upgrade Pedal Machines</label>
                <label><input type="checkbox" id="autobuy_solar_panel_upgrade" onchange="toggleAutoUpgrade('solar_panel')"> Auto-upgrade Solar Panels</label>
                <label><input type="checkbox" id="autobuy_wind_turbine_upgrade" onchange="toggleAutoUpgrade('wind_turbine')"> Auto-upgrade Wind Turbines</label>
            </div>
            <div id="manager_upgrades" style="display: none;">
                <h2>Manager Upgrades</h2>
                <button type="button" onclick="upgradeManager('solar')">Unlock Auto-buy Solar</button>
                <p>Cost: $<span id="manager_upgrade_solar_cost">10000</span></p>
                <button type="button" onclick="upgradeManager('wind')">Unlock Auto-buy Wind</button>
                <p>Cost: $<span id="manager_upgrade_wind_cost">50000</span></p>
            </div>
            <br />
            <button type="button" onclick="negotiatePowerPrice()" id="negotiate_button">Negotiate Power Price</button>
            <p>Cooldown: <span id="negotiate_cooldown">0</span></p>
            <p>Bonus Duration: <span id="negotiate_bonus_duration">0</span>s</p>
        </div>

        <div id="engineers" style="display: None;">
            <br />
            <button type="button" onclick="buyEngineer()">Hire Engineer</button>
            <p>Engineers: <span id="engineers_count">0</span></p>
            <p>Cost: $<span id="engineer_cost">3000</span></p>
            <br />
            <h3>Current Upgrade Probability</h3>
            <p>Pedal Machine: <span id="engineer_prob_pm">0</span>%</p>
            <p>Solar Panel: <span id="engineer_prob_sp">0</span>%</p>
            <p>Wind Turbine: <span id="engineer_prob_wt">0</span>%</p>
        </div>

        <div id="dashboard" style="display: None;">
            <br />
            <h3>Credit History</h3>
            <canvas id="creditChart" class="chart"></canvas>
            <h3>Power History</h3>
            <canvas id="powerChart" class="chart"></canvas>
        </div>

        <div id="admin" style="display: None;">
            <br />
            <button type="button" onclick="cheat()">+$500</button>
            <button type="button" onclick="cheat50k()">+$50,000</button>
            <br />
            <h3>Game Speed</h3>
            <input type="range" min="1" max="10" value="1" class="slider" id="gameSpeedSlider" oninput="setGameSpeed(this.value)">
            <p>Speed: <span id="gameSpeedDisplay">1</span>x</p>
        </div>
        <p>End</p>
        <script type="text/javascript" src="main.js"></script>
</body>
</html>
